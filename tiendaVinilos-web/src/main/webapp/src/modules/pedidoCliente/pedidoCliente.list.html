<div  class="container-fluid">

  <nav class="navbar navbar-default navbar-fixed-top">

      <div class="collapse navbar-collapse" id="myNavbar">

          <ul class="nav navbar-nav navbar-left">


              <li><a  href="#!/vinilos">VINILOS</a></li>
              <li><a id="{{$index}}-pedidos-btn"  ui-sref="pedidoClienteList({pedidoClienteId:currentUsuario.id})">PEDIDOS</a></li>
              <li><a id="{{$index}}-edit-btn"  ui-sref="tarjetaSee({tarjetaId: tarjeta.id})"> TARJETAS</a></li>
              <li><a id="{{$index}}-crro-btn"  ui-sref="carritoUsuario({id:currentUsuario.id})"><span class="glyphicon glyphicon-shopping-cart"></span></a></li>

          </ul>

      </div>

  </nav>
<br>
<br>
<br>
<br>
  <p id="subtest">Pedidos del Cliente</p></div>
    <br>
    <br>

    <a ng-init="ctrl.pedidosUsuario()"></a>

    <uib-accordion close-others="oneAtATime">
    <div uib-accordion-group class="panel-default"
                        ng-repeat="pedido in pedidosRecords">
                        <uib-accordion-heading>

                          <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Estado</th>
                                    <th>Precio</th>
                                    <th>Dirección</th>
                                    <th>Telefono</th>
                                    <th>Fecha Estimada</th>

                                </tr>
                            </thead>
                      <tbody>
                          <td id="{{$index}}-estado">{{pedido.estado}}</td>
                          <td id="{{$index}}-precio">{{pedido.precio}}</td>
                          <td id="{{$index}}-direccion">{{pedido.direccion}}</td>
                          <td id="{{$index}}-telefono">{{pedido.telefono}}</td>
                          <td id="{{$index}}-telefono">{{pedido.pago.id}}</td>
                          <span ng-init="ctr.getPedidosProveedor(pedido.id)"></span>
                          <td><a class="btn btn-danger btn-sm" style="width:150px; background-color: #f44336;" ng-click="ctrl.cancelarPedido(pedido.id)"><span>Cancelar</span></a>
                          </td>
                          <td id="{{$index}}-edit"> <a class="btn btn-info" style="width:200px;" ui-sref="pedidoClienteUpdate({pedidoClienteId: pedido.id})"><span class="glyphicon glyphicon-edit"> Cambiar datos</span></a>
                          </td>
                          <td><a class="btn btn-info" style="width:150px; background-color: #555555;" ng-click="ctrl.getPedidosProveedor(pedido.id)"><span class="glyphicon glyphicon-plus"> Ver más</span></a>
                          </td>
                          <td id="{{$index}}-trash"> <a class="btn btn-danger btn-sm" style="width:80px; background-color: #f44336;" ui-sref="pedidoClienteDelete({pedidoClienteId: pedido.id})"><span class="glyphicon glyphicon-trash"></span></a>
                          </td>
                              </tbody>
                          </table>
       <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': status.open, 'glyphicon-chevron-right': !status.open}" ></i>

      </uib-accordion-heading>

<a ng-init="ctrl.getPedidosProveedor()"></a>
                        <div class="row">
                            <div class="col-md-3">

                              <h3>Pedidos de cada proveedor</h3>
                                <table class="table table-striped">
                                  <thead>
                                      <tr>
                                          <th>id</th>
                                          <th>Precio</th>
                                          <th>Fecha Estimada</th>

                                  </thead>
                            <tbody>
                              <tr ng-repeat="pedidoProveedor in pedidosProveedorRecords">
                                    <td id="{{$index}}-estado">{{pedidoProveedor.id}}</td>
                                    <td id="{{$index}}-precio">{{pedidoProveedor.precio}}</td>
                                    <td id="{{$index}}-fechaEstimada">{{pedidoProveedor.fecha| date:'yyyy-MM-dd'}}</td>

                                    </tr>
                                        </tbody>
                                    </table>

                                    <h3>Pago Realizado</h3>
                                    <table class="table table-striped">
                                      <thead>
                                          <tr>
                                              <th>Valor</th>
                                              <th>Fecha de Pago</th>

                                      </thead>
                                <tbody>
                                  <tr ng-repeat="pedidoProveedor in pedidosProveedorRecords">
                                        <td id="{{$index}}-estado">{{pagoPedido.valor}}</td>
                                        <td id="{{$index}}-fechaPago">{{pagoPedido.fechaPago| date:'yyyy-MM-dd'}}</td>

                                        </tr>
                                            </tbody>
                                        </table>

                            </div>
                        </div>

  </div>
    </uib-accordion>





<script>


function getCookie(cname) {
    var name = cname + "=";
    var decodedCookie = decodeURIComponent(document.cookie);
    var ca = decodedCookie.split(';');
    for(var i = 0; i < ca.length; i++) {
        var c = ca[i];
        while (c.charAt(0) == ' ') {
            c = c.substring(1);
        }
        if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
        }
    }
    return "";
}


</script>
